<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Door 64 - Interactive Splash</title>
    
    <!-- Link to your external CSS and JS files -->
    <link rel="stylesheet" href="styles.css">
    
    <style>
        /* Additional styles specific to interactive splash page */
        body {
            overflow: hidden;
            height: 100vh;
            width: 100%;
        }

        /* Status hint for testing - remove in production */
        .status-hint {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: #666;
            font-size: 1rem;
            text-align: center;
            z-index: 30;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 20px;
            border: 1px solid #ddd;
            font-family: 'Georgia', serif;
        }

        .current-letter {
            font-weight: bold;
            color: #333;
            letter-spacing: 2px;
        }

        /* Ensure door gallery letters are completely visible */
        .door-gallery li img {
            filter: blur(0px) !important;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        /* Override any blur animations for interactivity */
        .door-gallery li:nth-of-type(1) img,
        .door-gallery li:nth-of-type(2) img,
        .door-gallery li:nth-of-type(3) img,
        .door-gallery li:nth-of-type(4) img {
            animation: none !important;
            filter: blur(0px) !important;
        }

        /* Keep floating animations for doors but not images */
        .door-gallery li:nth-of-type(1) a {
            animation: doorFloat3 8s ease-in-out infinite;
        }

        .door-gallery li:nth-of-type(2) a {
            animation: doorFloat1 6s ease-in-out infinite;
        }

        .door-gallery li:nth-of-type(3) a {
            animation: doorFloat2 7s ease-in-out infinite;
        }

        .door-gallery li:nth-of-type(4) a {
            animation: doorFloat4 9s ease-in-out infinite;
        }

        /* Door floating animations */
        @keyframes doorFloat1 {
            0%, 100% { 
                transform: translate(var(--offsetX), calc(var(--offsetX) * 0.166 * -2)) scale(1);
            }
            25% { 
                transform: translate(calc(var(--offsetX) * 1.1), calc(var(--offsetX) * 0.166 * -2.2)) scale(1.02);
            }
            50% { 
                transform: translate(calc(var(--offsetX) * 0.9), calc(var(--offsetX) * 0.166 * -1.8)) scale(0.98);
            }
            75% { 
                transform: translate(calc(var(--offsetX) * 1.05), calc(var(--offsetX) * 0.166 * -2.1)) scale(1.01);
            }
        }

        @keyframes doorFloat2 {
            0%, 100% { 
                transform: translate(calc(var(--offsetX) * -1), calc(var(--offsetX) * 0.166 * 2)) scale(1);
            }
            25% { 
                transform: translate(calc(var(--offsetX) * -0.9), calc(var(--offsetX) * 0.166 * 1.8)) scale(1.01);
            }
            50% { 
                transform: translate(calc(var(--offsetX) * -1.1), calc(var(--offsetX) * 0.166 * 2.2)) scale(0.99);
            }
            75% { 
                transform: translate(calc(var(--offsetX) * -0.95), calc(var(--offsetX) * 0.166 * 1.9)) scale(1.02);
            }
        }

        @keyframes doorFloat3 {
            0%, 100% { 
                transform: translate(var(--offsetX), calc(var(--offsetX) * 0.200 * -2)) scale(1);
            }
            30% { 
                transform: translate(calc(var(--offsetX) * 0.95), calc(var(--offsetX) * 0.200 * -1.9)) scale(1.01);
            }
            60% { 
                transform: translate(calc(var(--offsetX) * 1.05), calc(var(--offsetX) * 0.200 * -2.1)) scale(0.99);
            }
        }

        @keyframes doorFloat4 {
            0%, 100% { 
                transform: translate(calc(var(--offsetX) * -1), calc(var(--offsetX) * 0.200 * 2)) scale(1);
            }
            40% { 
                transform: translate(calc(var(--offsetX) * -1.05), calc(var(--offsetX) * 0.200 * 2.1)) scale(1.02);
            }
            80% { 
                transform: translate(calc(var(--offsetX) * -0.95), calc(var(--offsetX) * 0.200 * 1.9)) scale(0.98);
            }
        }

        /* Mobile responsive adjustments */
        @media (max-width: 768px) {
            .status-hint {
                bottom: 20px;
                font-size: 0.9rem;
                padding: 8px 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Audio element for background music -->
    <audio id="backgroundAudio" preload="auto" loop>
        <source src="audio/QUIETSTORM.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- DOOR 64 SPLASH PAGE -->
    <div class="splash-page" id="splashPage">
        <!-- Audio Toggle Button -->
        <button class="splash-audio-toggle" 
                onclick="toggleAudio(event)" 
                title="Toggle Background Music"
                aria-label="Toggle background music">
            ♪
        </button>

        <!-- Interactive Door Gallery with Real SVG Images -->
        <ul class="door-gallery door-gallery-raised" id="interactiveDoorGallery">
            <li data-letter="D" data-index="0">
                <a href="javascript:void(0)">
                    <img src="images/splash/door_letter_D_blue.svg" 
                         alt="Letter D - Door 64" 
                         loading="eager">
                </a>
            </li>
            <li data-letter="O" data-index="1">
                <a href="javascript:void(0)">
                    <img src="images/splash/door_letter_O1_blue.svg" 
                         alt="Letter O - Door 64" 
                         loading="eager">
                </a>
            </li>
            <li data-letter="O" data-index="2">
                <a href="javascript:void(0)">
                    <img src="images/splash/door_letter_O2_blue.svg" 
                         alt="Letter O - Door 64" 
                         loading="eager">
                </a>
            </li>
            <li data-letter="R" data-index="3">
                <a href="javascript:void(0)">
                    <img src="images/splash/door_letter_R_blue.svg" 
                         alt="Letter R - Door 64" 
                         loading="eager">
                </a>
            </li>
        </ul>
        
        <!-- Logo Content Below -->
        <div class="splash-content-below">
            <h1>DOOR 64</h1>
            <p>click to enter</p>
        </div>

        <!-- Status hint showing current correct letter for testing -->
        <div class="status-hint" id="statusHint">
            Click the correct letter: <span class="current-letter" id="currentLetter">?</span>
            <br><small>(Changes every 10 seconds)</small>
        </div>
    </div>

    <!-- Main Site Content (hidden initially) -->
    <div class="main-site" id="mainSite">
        <!-- Your main site content goes here -->
        <nav class="nav" id="nav">
            <div class="nav-container">
                <a href="#" class="nav-logo" onclick="location.reload()">DOOR 64</a>
                
                <div class="nav-left-section">
                    <!-- Audio Toggle Button -->
                    <button class="audio-toggle" 
                            onclick="toggleAudio(event)" 
                            title="Toggle Background Music"
                            aria-label="Toggle background music">
                        ♪
                    </button>
                    
                    <!-- Mobile Menu Button -->
                    <button class="mobile-menu" aria-label="Toggle mobile menu" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>

                <!-- Navigation Links -->
                <ul class="nav-links" id="navLinks">
                    <li><a href="#landing">home</a></li>
                    <li><a href="#space">space</a></li>
                    <li><a href="#menus">menus</a></li>
                    <li><a href="#events">events</a></li>
                    <li><a href="#gallery">gallery</a></li>
                    <li><a href="#contact">contact</a></li>
                </ul>
            </div>
        </nav>

        <!-- Your existing sections -->
        <section id="landing" class="section landing-page active">
            <div class="landing-content">
                <h1>DOOR 64</h1>
                <!-- Your existing landing content -->
            </div>
        </section>

        <!-- Add your other sections here -->
    </div>

    <!-- Entry Overlays -->
    <div class="entry-wrong-overlay" id="entryWrongOverlay">
        <div class="success-content">
            <div class="success-title">DOOR 64</div>
            <div class="success-subtitle">Try Again</div>
            <button class="enter-button" onclick="resetLetterSystem()">RESET</button>
        </div>
    </div>

    <div class="entry-success-overlay" id="entrySuccessOverlay">
        <div class="success-content">
            <div class="success-title">DOOR 64</div>
            <div class="success-subtitle">Access Granted</div>
            <button class="enter-button" onclick="enterMainSite()">ENTER</button>
        </div>
    </div>

    <!-- Link to your external JavaScript file -->
    <script src="script.js"></script>

    <script>
        // Additional functions specific to splash page
        function resetLetterSystem() {
            // Hide overlays
            const successOverlay = document.getElementById('entrySuccessOverlay');
            const wrongOverlay = document.getElementById('entryWrongOverlay');
            const statusHint = document.getElementById('statusHint');
            
            if (successOverlay) successOverlay.classList.remove('show');
            if (wrongOverlay) wrongOverlay.classList.remove('show');
            if (statusHint) statusHint.style.display = 'block';
            
            // Remove success animations
            document.querySelectorAll('.letter-success').forEach(el => {
                el.classList.remove('letter-success');
            });
            
            // Restart letter system
            setTimeout(() => {
                if (window.door64LetterSystem) {
                    window.door64LetterSystem.reset();
                }
            }, 500);
        }

        function enterMainSite() {
            // Hide splash page and show main site
            const splashPage = document.getElementById('splashPage');
            const mainSite = document.getElementById('mainSite');
            const statusHint = document.getElementById('statusHint');
            
            if (splashPage) {
                splashPage.classList.add('hidden');
                setTimeout(() => {
                    splashPage.style.display = 'none';
                }, 1200);
            }
            
            if (mainSite) {
                mainSite.classList.add('active');
            }
            
            if (statusHint) {
                statusHint.style.display = 'none';
            }
            
            // Prepare audio for navigation
            if (window.door64Audio) {
                window.door64Audio.prepareForNavigation();
            }
            
            console.log('Entered main site from interactive splash');
        }

        // Update status hint when letter changes
        document.addEventListener('DOMContentLoaded', function() {
            // Wait for letter system to initialize
            setTimeout(() => {
                if (window.door64LetterSystem) {
                    // Override setRandomActiveLetter to update hint
                    const originalSetRandomActiveLetter = window.door64LetterSystem.setRandomActiveLetter.bind(window.door64LetterSystem);
                    
                    window.door64LetterSystem.setRandomActiveLetter = function() {
                        originalSetRandomActiveLetter();
                        
                        const letter = this.letters[this.currentActiveIndex];
                        const currentLetterElement = document.getElementById('currentLetter');
                        if (currentLetterElement) {
                            currentLetterElement.textContent = letter;
                        }
                    };
                    
                    // Set initial letter in hint
                    window.door64LetterSystem.setRandomActiveLetter();
                }
            }, 100);
        });
    </script>
</body>
</html>
